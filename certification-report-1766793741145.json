{
  "timestamp": "2025-12-27T00:02:15.202Z",
  "phases": [
    {
      "phase": 1,
      "name": "Atomic Slot Invariant",
      "status": "PASS",
      "violations": [],
      "evidence": {
        "slotId": "8dc77db9-efa5-49af-8419-0212c19f3371",
        "vendorId": "210d3a2e-2356-4978-af77-aa412e8b5c5d",
        "vendorAuthId": "1d5509c3-ddb3-49be-88c3-fe2fd3dcff72",
        "serviceId": "b57dd55b-207d-40aa-a51e-dd00a2c21af4",
        "bookingAttempts": [
          {
            "customerId": "1c192b33-ba27-49d4-8a9a-13bae14d7a58",
            "bookingId": "created",
            "success": true,
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "a041b784-af65-4109-8c7c-9686e81046f9",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "e45d2b8c-40b6-4120-8f80-a51b6909bb6a",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "0be40789-359c-4059-9a9e-90c1d9c5b6af",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "a162f1df-c094-4f50-bd3e-c411e3961d04",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "bd6297a0-8aac-430e-96ae-882dfe5e7bc8",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "2b793c39-0abf-426b-9b88-7786b8903c99",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "4cdc27e7-049f-4238-b40d-4e06406a2a6e",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "426e56a4-f6d6-4a80-ab8d-11baab24f652",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          },
          {
            "customerId": "f35742a2-d31f-42e9-91b0-aa5e6b447779",
            "bookingId": null,
            "success": false,
            "error": "Slot is not available",
            "invariantStatus": "ok",
            "violations": []
          }
        ]
      },
      "executionTime": 1918
    },
    {
      "phase": 2,
      "name": "Payment â†” Slot Consistency",
      "status": "PASS",
      "violations": [],
      "evidence": {
        "scenario1": {
          "paymentIntentId": "pi_test_1766793737777"
        },
        "bookingsWithPayment": 0
      },
      "executionTime": 1342
    },
    {
      "phase": 3,
      "name": "Time Hostility",
      "status": "PASS",
      "violations": [],
      "evidence": {
        "scenario1": {
          "slotStart": "2025-12-26T23:02:19.018Z",
          "now": "2025-12-27T00:02:19.018Z",
          "bookingResult": [
            {
              "success": false,
              "booking_id": null,
              "error_message": "Cannot create booking in the past"
            }
          ]
        },
        "scenario2": {
          "slotStart": "2025-12-27T00:02:19.208Z",
          "attemptTime": "2025-12-27T00:02:19.401Z",
          "bookingResult": [
            {
              "success": false,
              "booking_id": null,
              "error_message": "insert or update on table \"bookings\" violates foreign key constraint \"bookings_service_id_fkey\""
            }
          ]
        },
        "scenario4": {
          "originalStart": "2025-12-27T02:02:19.018Z",
          "storedStart": "2025-12-27T02:02:19.018+00:00",
          "originalEnd": "2025-12-27T03:02:19.018Z",
          "storedEnd": "2025-12-27T03:02:19.018+00:00",
          "timeMatch": true
        }
      },
      "executionTime": 1325
    },
    {
      "phase": 4,
      "name": "Abuse & Probing",
      "status": "PASS",
      "violations": [],
      "evidence": {
        "scenario1": {
          "totalRequests": 100,
          "successful": 0,
          "rateLimited": 0
        },
        "scenario2": {
          "probeSearches": 20
        },
        "scenario3": {
          "directBookingAttempt": "failed",
          "error": "null value in column \"total_amount\" of relation \"bookings\" violates not-null constraint"
        },
        "scenario4": {
          "totalRetries": 50,
          "successful": 0,
          "rateLimited": 0
        }
      },
      "executionTime": 724
    },
    {
      "phase": 5,
      "name": "Degraded Reality",
      "status": "ERROR",
      "violations": [
        "Unexpected error: fetch failed"
      ],
      "evidence": {
        "error": "TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.operation (C:\\Users\\patri\\Projects\\bookiji\\scripts\\adversarial-certification.ts:1365:30)\n    at async <anonymous> (C:\\Users\\patri\\Projects\\bookiji\\scripts\\adversarial-certification.ts:1381:22)\n    at async Promise.all (index 0)\n    at async executePhase5 (C:\\Users\\patri\\Projects\\bookiji\\scripts\\adversarial-certification.ts:1380:28)\n    at async main (C:\\Users\\patri\\Projects\\bookiji\\scripts\\adversarial-certification.ts:1519:20)"
      },
      "executionTime": 630
    },
    {
      "phase": 6,
      "name": "Forensics & Explainability",
      "status": "ERROR",
      "violations": [
        "Phase 6 implementation pending"
      ],
      "evidence": {},
      "executionTime": 0
    },
    {
      "phase": 7,
      "name": "Soak & Time Decay",
      "status": "ERROR",
      "violations": [
        "Phase 7 implementation pending"
      ],
      "evidence": {},
      "executionTime": 0
    }
  ],
  "finalVerdict": "NOT_CERTIFIED",
  "unresolvedRisks": [
    "Unexpected error: fetch failed",
    "Phase 6 implementation pending",
    "Phase 7 implementation pending"
  ]
}